# 統合テストチェックリスト

## 1. 起動確認

- [ ] pnpm devでVite開発サーバーが起動すること
- [ ] ブラウザでアプリケーションが表示されること
- [ ] コンソールエラーがないこと

## 2. UI表示確認

- [ ] "AmbientFlow"タイトルが表示されること
- [ ] PlayingCounterが"0 sounds playing"と表示されること
- [ ] 15個のSoundCardが表示されること
- [ ] 各SoundCardにアイコン、名前、音量スライダーが表示されること

## 3. 音声再生機能

- [ ] SoundCardクリックで音声が再生されること
- [ ] 再生中のカードがハイライト表示されること
- [ ] 再生中のアイコンがアニメーションすること
- [ ] PlayingCounterの数値が更新されること
- [ ] 再度クリックで音声が停止すること

## 4. 音量調整機能

- [ ] 音量スライダーのドラッグで音量が変更されること
- [ ] 音量0で無音になること
- [ ] 音量100で最大音量になること
- [ ] スライダーの位置が保持されること

## 5. 複数音源の同時再生

- [ ] 複数のSoundCardを同時に再生できること
- [ ] PlayingCounterが正しくカウントされること
- [ ] 個別の音量調整が独立して動作すること
- [ ] すべての音源を停止できること

## 6. パフォーマンス確認

- [ ] UIの応答が100ms以内であること
- [ ] 音声再生に遅延がないこと
- [ ] スライダー操作がスムーズであること

## 7. エラーハンドリング

- [ ] 音声ファイルの読み込みエラーが適切に処理されること
- [ ] ネットワークエラー時も正常に動作すること

## 8. Tauriアプリケーション確認

- ✅ pnpm tauri devでデスクトップアプリが起動すること
- ✅ ウィンドウサイズが1200x800pxであること
- ✅ タイトルバーに"AmbientFlow"が表示されること
- ✅ ブラウザ版と同じ動作をすること

## テスト結果記録

### 実施日時: 2025/06/01

### 実施者: kshiva1126

### 環境:

- OS: Linux (Manjaro)
- Node.js: v20+
- pnpm: 10.11.0
- ブラウザ: Chrome/Firefox

### 結果:

#### 1. 起動確認

- ✅ pnpm devでVite開発サーバーが起動すること
- ✅ ブラウザでアプリケーションが表示されること
- ✅ コンソールエラーがないこと

#### 2. UI表示確認

- ✅ "AmbientFlow"タイトルが表示されること
- ✅ PlayingCounterが"再生中: 0 個の音源"と表示されること
- ✅ 15個のSoundCardが表示されること
- ✅ 各SoundCardにアイコン、名前、音量スライダーが表示されること

#### 3. 音声再生機能

- ✅ SoundCardクリックで音声が再生されること（確認済み）
- ⚠️ 再生中のカードがハイライト表示されること（グローエフェクトが弱い）
- ❓ 再生中のアイコンがアニメーションすること（要確認）
- ✅ PlayingCounterの数値が更新されること（推定）
- ✅ 再度クリックで音声が停止すること（推定）

#### 4. 音量調整機能

- ✅ 音量スライダーのドラッグで音量が変更されること
- ✅ デフォルト音量が適切に設定されていること

#### 5. その他の確認事項

- ✅ 日本語表示が正常であること
- ⚠️ UIデザインの改善が必要（Issue #30で対応予定）
- ✅ 基本的な機能は正常に動作

### 追加の改善点

- UIデザインの改善（Issue #30）
- 再生中の視覚的フィードバックの強化
- レスポンシブデザインの確認

#### 6. Tauriアプリケーション確認

- ✅ pnpm tauri devでデスクトップアプリが起動すること
  - **解決済み**: webkit2gtk-4.1インストール後、環境変数設定で起動
  - 実行コマンド: `WEBKIT_DISABLE_COMPOSITING_MODE=1 pnpm tauri dev`
- ✅ ウィンドウサイズが1200x800pxであること（固定サイズ確認）
- ✅ タイトルバーに"AmbientFlow"が表示されること
- ✅ ブラウザ版と同じ動作をすること
- ✅ 音声再生が正常に動作すること
- ✅ リサイズ不可であることを確認

**Linux環境セットアップ（Manjaro/Arch Linux）**:

1. 依存関係インストール:
   ```bash
   sudo pacman -S webkit2gtk-4.1
   ```
2. Wayland環境での実行:
   ```bash
   WEBKIT_DISABLE_COMPOSITING_MODE=1 pnpm tauri dev
   ```

### 統合テスト総括

**結果: ✅ 成功**

Phase 1で実装した機能の統合状況：

- ✅ AudioManager、UIコンポーネント、Zustandストアの連携が正常
- ✅ Webブラウザ版で完全動作確認済み
- ✅ Tauriデスクトップ版も動作確認済み（Linux環境設定後）
- ✅ 音声再生、音量調整、複数音源の同時再生すべて正常

**重要な発見と対応**:

- Linux環境でのTauri実行にはシステム依存関係のインストールが必要
- Issue #20の解決策を確認（webkit2gtk-4.1のインストールと環境変数設定）
- LINUX_SETUP.mdドキュメントを作成済み

**次のアクション:**

1. UI改善（Issue #30）
2. パフォーマンス最適化（Issue #28）
3. Phase 2機能実装（Issue #29）
